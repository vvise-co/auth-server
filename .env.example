# ===========================================
# UNIFIED DEPLOYMENT ENVIRONMENT VARIABLES
# ===========================================
# For Koyeb/Railway where frontend + backend run in single container
# Copy this file to .env and fill in your values

# Port (auto-set by Koyeb, default: 8000)
# PORT=8000

# ===========================================
# DATABASE (Required)
# ===========================================
# PostgreSQL connection string with credentials
SPRING_DATASOURCE_URL=jdbc:postgresql://your-host/your-db?user=your-user&password=your-password

# Or use separate credentials:
# SPRING_DATASOURCE_URL=jdbc:postgresql://your-host/your-db
# SPRING_DATASOURCE_USERNAME=your-user
# SPRING_DATASOURCE_PASSWORD=your-password

# ===========================================
# JWT (Required)
# ===========================================
# Generate with: openssl rand -base64 32
# Must be at least 32 characters
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ===========================================
# OAUTH2 PROVIDERS (At least one required)
# ===========================================

# Google OAuth2
# Get credentials from: https://console.developers.google.com/
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth2
# Get credentials from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Microsoft OAuth2
# Get credentials from: https://portal.azure.com/
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# ===========================================
# APPLICATION URLs (Required)
# ===========================================
# Your deployed app URL (same for frontend and backend in unified mode)
CORS_ALLOWED_ORIGINS=https://your-app.koyeb.app
OAUTH2_REDIRECT_URI=https://your-app.koyeb.app/auth/callback
# Base URL for OAuth2 callbacks (must be HTTPS in production)
OAUTH2_BASE_URL=https://your-app.koyeb.app

# ===========================================
# OAUTH CALLBACK URLs TO CONFIGURE
# ===========================================
# Add these to your OAuth provider consoles:
#
# Google (https://console.developers.google.com/):
#   https://your-app.koyeb.app/login/oauth2/code/google
#
# GitHub (https://github.com/settings/developers):
#   https://your-app.koyeb.app/login/oauth2/code/github
#
# Microsoft (https://portal.azure.com/):
#   https://your-app.koyeb.app/login/oauth2/code/microsoft

# ===========================================
# LOCAL DEVELOPMENT (Separate Services)
# ===========================================
# For local development with separate frontend (port 3000) and backend (port 8080):
#
# CORS_ALLOWED_ORIGINS=http://localhost:3000
# OAUTH2_REDIRECT_URI=http://localhost:3000/auth/callback
#
# Also create frontend/.env.local with:
# NEXT_PUBLIC_API_URL=http://localhost:8080
#
# NOTE: For unified deployment, do NOT set NEXT_PUBLIC_API_URL.
# When unset, the frontend uses relative paths (same origin as backend).
